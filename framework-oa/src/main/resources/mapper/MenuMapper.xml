<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tx.framework.web.modules.sys.dao.MenuDao">
	
	<!-- 根据用户id查找权限 -->
	<select id="findByUserId" parameterType="String" resultType="Menu">
		select distinct sys_menu.* 
		from sys_user 
		left join sys_user_role on sys_user.id = sys_user_role.user_id
		left join sys_role on sys_user_role.role_id = sys_role.id
		left join sys_role_menu on sys_role.id = sys_role_menu.role_id
		left join sys_menu on sys_role_menu.menu_id = sys_menu.id
		where sys_user.id = #{id}
		order by sys_menu.sort
	</select>
	 
</mapper>